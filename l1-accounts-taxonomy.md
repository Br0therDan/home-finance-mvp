# L1 계정과목(1차 분류) 최종 설계안 (Household CoA v1)

이 문서는 **L1(시스템 표준) 계정과목 분류 체계**를 정의한다.  
의도는 다음과 같다.

- **L1 = 시스템이 제공하는 “일반 분류(폴더)”**  
  - `is_system=1`, `level=1`, 기본적으로 `allow_posting=0`(직접 분개 금지)
- **L2+ = 사용자 정의 “실제 계정(leaf)”**  
  - 예: `보통예금 > 농협 입출금`, `부동산 > ABC아파트`, `카드미지급금 > 삼성카드`

> 예외(권장): 자동화에 필요한 일부 계정은 “시스템 관리 L2 leaf”로 생성해도 된다.  
> 예: `자본 > 기초순자산(Opening Equity)`, `비용 > 감가상각비(기본 leaf)`, `자산 > 감가상각누계액(기본 leaf)`  
> 이들은 L2이지만 사용자가 삭제/타입변경을 못 하게 보호하면 안전하다.

---

## 설계 원칙

1. **타입(Type)은 최상위 원칙**
   - ASSET / LIABILITY / EQUITY / INCOME / EXPENSE
2. **L1은 “집계 기준점”**
   - 리포트(대시보드/BS/IS)는 L1 단위로 묶어 보여주기 좋게 설계
3. **실제 금액은 L2 이하에만 posting**
   - L1 계정으로 journal_lines 생성 금지(집계 전용)
4. **가정용 실사용 중심**
   - “실제로 분류하고 싶은 것”이 바로 L1에 존재해야 한다.
5. **전세/부동산/대출/카드 플로우를 깨끗하게**
   - 전세보증금(임차)=자산, 전세보증금(임대)=부채를 명확히 분리

---

# ASSET (자산) — L1 분류

| L1 계정명 | 설명 | 권장 L2 예시 |
|---|---|---|
| 현금 | 지갑 현금/소액 현금성 | 지갑현금, 비상현금 |
| 보통예금 | 입출금 통장/현금성 계좌 | 농협 입출금, 카카오뱅크 생활비, 급여통장 |
| 정기예금 | 예적금/예금성 상품 | 신한 정기예금(만기 2027-01) |
| 증권/투자자산 | 주식/ETF/펀드/채권/코인 등 평가자산 | 키움-미국주식, 삼성-국내ETF, 업비트 BTC |
| 부동산 | 본인 소유 부동산의 장부가치/현재가치(운영정책에 따름) | ABC아파트, DEF빌라, 상가1 |
| 전세보증금(임차) | **내가 낸 전세보증금(돌려받을 채권)** | 현재거주 전세보증금(OO동) |
| 대여금/미수금 | 개인 간 대여/미수금 등 회수 예정 금액 | 가족대여금, 미수금-환급 |
| 선급금/예치금 | 선납/예치 성격(보험 선납 등) | 선급금-연회비, 예치금-렌탈 |
| 차량/운송수단 | 차량 등 고가 운송자산(선택적으로 자산화) | 카니발, 전기차 |
| 비품/장비 | 고가 장비/가전(선택적으로 자산화) | 워크스테이션, 카메라 |
| 기타자산 | 위 분류에 없는 자산 | 기타 |

> 실물자산(차량/비품/장비)을 자산화하면 감가상각/처분손익 흐름이 필요하므로, **고가 자산 중심으로 제한**하는 것을 권장한다.

---

# LIABILITY (부채) — L1 분류

| L1 계정명 | 설명 | 권장 L2 예시 |
|---|---|---|
| 카드미지급금 | 신용카드 사용 후 미결제 잔액 | 삼성카드, 현대카드 |
| 주택담보대출 | 담보대출 잔액 | 주담대-은행A |
| 신용대출/기타대출 | 신용/마이너스/기타 대출 | 신용대출-은행B, 마이너스통장 |
| 전세보증금(임대) | **임차인이 나에게 맡긴 전세보증금(돌려줘야 할 돈)** | ABC아파트 임차보증금 |
| 미지급금/외상 | 아직 지급하지 않은 채무 | 미지급금-관리비, 외상 |
| 세금/공과금 미지급 | 납부 예정 세금/공과금(선택) | 지방세미지급, 건강보험미지급 |
| 기타부채 | 위 분류에 없는 부채 | 기타 |

---

# EQUITY (자본) — L1 분류

| L1 계정명 | 설명 | 권장 L2 예시 |
|---|---|---|
| 자본/순자산 | 가정 “순자산”을 구성하는 자본 계정군 | 기초순자산(Opening Equity), 누적순자산 |

> Day0 OPENING_BALANCE 전표의 차액 상계는 보통 `자본/순자산 > 기초순자산`(L2 leaf)로 posting한다.  
> 이 leaf는 시스템이 생성하고 보호(삭제/타입변경 금지)하는 것을 권장한다.

---

# INCOME (수익) — L1 분류

| L1 계정명 | 설명 | 권장 L2 예시 |
|---|---|---|
| 근로/급여수익 | 월급/상여/수당 | 급여, 상여 |
| 사업/부업수익 | 사업/프리랜서/부업 | 프로젝트수익 |
| 임대수익 | 월세/임대 수익 | ABC아파트 월세 |
| 이자수익 | 예금/채권 이자 | 예금이자 |
| 배당수익 | 주식/ETF 배당 | 배당금 |
| 기타수익 | 환급/보상/잡수익 | 환급, 보상금 |

> 투자자산 매매차익(실현손익)을 수익/비용으로 분리할지, 별도 “투자손익” L1로 둘지는 운영 취향이지만, MVP에선 `기타수익/기타비용`으로도 충분하다.

---

# EXPENSE (비용) — L1 분류

| L1 계정명 | 설명 | 권장 L2 예시 |
|---|---|---|
| 식비 | 외식/식재료 | 식재료, 외식 |
| 주거/관리비 | 관리비/월세/주거 관련 | 관리비, 월세 |
| 공과금/통신 | 전기/가스/수도/통신 | 전기, 가스, 휴대폰 |
| 교통/차량비 | 대중교통/유류/차량 유지 | 교통, 주유 |
| 교육/육아 | 학원/교육/육아 | 학원, 교재 |
| 의료/건강 | 병원/약/건강 | 병원, 약국 |
| 보험료 | 각종 보험 | 실손보험, 자동차보험 |
| 세금/수수료 | 세금/각종 수수료 | 세금, 송금수수료 |
| 이자비용 | 대출 이자 | 주담대이자 |
| 소비/쇼핑 | 의류/전자/생활소비 | 의류, 쇼핑 |
| 여행/여가 | 여행/취미 | 여행, 구독 |
| 감가상각비 | 자산화한 실물자산의 감가상각 비용군 | 감가상각비-차량, 감가상각비-비품 |
| 기타비용 | 위 분류에 없는 비용 | 기타 |

> 감가상각을 도입하는 경우, `감가상각비`는 L1로 두고 자산별/자산군별로 L2 leaf를 생성하여 posting하는 것을 권장한다.

---

# “전세” 케이스 처리 규칙 (요약)

- **내가 낸 전세보증금**: `ASSET > 전세보증금(임차) > (집/계약별 L2)`  
- **내가 받은 전세보증금(임대 중)**: `LIABILITY > 전세보증금(임대) > (부동산/임차인별 L2)`

이렇게 하면, 부동산 여러 채 + 전세 임대/임차가 섞여도 BS가 일관되게 나온다.

---

# L1 계정 Posting 정책(권장)

- L1(시스템 표준): `allow_posting=0` (집계 전용)
- L2+(사용자/시스템 leaf): `allow_posting=1` (실제 분개 계정)

추가 권장 가드레일:
- L1 계정은 Settings에서 **읽기 전용** 표시
- 거래 입력(Transactions/Opening Balance)에서는 `allow_posting=1` 계정만 선택 가능
- 부모 계정은 같은 type의 시스템 계정만 선택 가능하도록 필터링

---

# 권장 최소 L1 세트(Seed) 체크리스트

### ASSET
- 현금, 보통예금, 정기예금, 증권/투자자산, 부동산, 전세보증금(임차)

### LIABILITY
- 카드미지급금, 주택담보대출, 신용대출/기타대출, 전세보증금(임대)

### EQUITY
- 자본/순자산

### INCOME
- 근로/급여수익, 임대수익, 이자수익, 배당수익, 기타수익

### EXPENSE
- 식비, 주거/관리비, 공과금/통신, 교통/차량비, 교육/육아, 의료/건강, 보험료, 세금/수수료, 이자비용, 소비/쇼핑, 여행/여가, 감가상각비, 기타비용

---

## 운영 팁(실사용)

- 계정이 너무 많아지면 오히려 안 쓴다.  
  L2는 “잔액을 추적해야 하는 것(통장/부동산/카드/대출)” 위주로만 세분화하는 것을 권장한다.
- 부동산은 **채별 L2**로 분리(ABC아파트, DEF빌라)하는 게 필수에 가깝다.
- 보통예금도 **계좌별 L2**(농협/카카오/급여통장 등)로 분리하면 트랜잭션 입력이 쉬워진다.
